{"componentChunkName":"component---src-templates-page-js","path":"/beacon_api/","result":{"data":{"markdownRemark":{"html":"<p>HSL Beacon API can be used to fetch locations of <a href=\"https://en.wikipedia.org/wiki/Bluetooth_low_energy_beacon\">Bluetooth beacons</a> that have been installed to vehicles and stops in HSL area.</p>\n<p>The API is a simple REST interface that returns data in JSON format.</p>\n<h2 id=\"endpoint\" style=\"position:relative;\"><a href=\"#endpoint\" aria-label=\"endpoint permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Endpoint</h2>\n<p><code class=\"language-text\">https://dev.hsl.fi/beacons</code></p>\n<p>The API supports only one type of request that is HTTP GET to above endpoint. There are no query parameters for filtering etc.</p>\n<h3 id=\"authentication\" style=\"position:relative;\"><a href=\"#authentication\" aria-label=\"authentication permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Authentication</h3>\n<p>The API is currently publicly available and requires no authentication.</p>\n<p>Note that in the future the API will be using API management and requiring API keys to use.</p>\n<h3 id=\"usage\" style=\"position:relative;\"><a href=\"#usage\" aria-label=\"usage permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usage</h3>\n<p>Data returned by the API should be cached and subsequent queries to the API should use HTTP header <code class=\"language-text\">If-Modified-Since</code> as beacon data is rarely updated.</p>\n<h3 id=\"response\" style=\"position:relative;\"><a href=\"#response\" aria-label=\"response permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Response</h3>\n<p>The API returns an JSON array that contains beacon data.<br>\nEach beacon has following fields:</p>\n<table>\n<thead>\n<tr>\n<th>Field</th>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">serial</code></td>\n<td>String</td>\n<td>Serial number of the beacon. Unique for each beacon.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">uuid</code></td>\n<td>String</td>\n<td>UUID of the beacon. All HSL beacons use shared UUID.<br/>Note that <code class=\"language-text\">uuid</code> does not contain dashes.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">major</code></td>\n<td>String</td>\n<td>Major value identifying the beacon in hexadecimal format, e.g. <code class=\"language-text\">&quot;0015&quot;</code>. Major values are shared between multiple beacons. See descriptions for major values <a href=\"#major-values\">below</a>.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">minor</code></td>\n<td>String</td>\n<td>Minor value identifying the beacon in hexadecimal format, e.g. <code class=\"language-text\">&quot;012C&quot;</code>. Minor value can be shared between multiple beacons with different major values.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">location</code></td>\n<td>Integer</td>\n<td>Location type of the beacon. Possible values: <ul><li><code class=\"language-text\">1</code> = vehicle</li><li><code class=\"language-text\">2</code> = stop</li></ul></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">status</code></td>\n<td>Integer</td>\n<td>Status of the beacon. Status of the beacon is always <code class=\"language-text\">2</code> (active) as the public API returns only active beacons.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">stop</code></td>\n<td>Integer</td>\n<td>ID of the stop where the beacon is installed. Corresponds to <code class=\"language-text\">stop_id</code> in GTFS and <code class=\"language-text\">Stop.gtfsId</code> in <a href=\"https://digitransit.fi/en/developers/apis/1-routing-api/stops/\">Digitransit API</a>.<br/><code class=\"language-text\">null</code> if location type is <code class=\"language-text\">1</code>.<br/><br/><strong>Note:</strong> stop ID can also refer to a station, which have a different query in the Digitransit API.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">operator</code></td>\n<td>String</td>\n<td>Operator ID of the vehicle where the beacon is installed. Corresponds to <code class=\"language-text\">operator_id</code> in <a href=\"https://digitransit.fi/en/developers/apis/4-realtime-api/vehicle-positions/\">HFP API</a>.<br/><code class=\"language-text\">null</code> if location type is <code class=\"language-text\">2</code>.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">vehicle_number</code></td>\n<td>String</td>\n<td>Vehicle number of the vehicle where the beacon is installed. Corresponds to <code class=\"language-text\">vehicle_number</code> in <a href=\"https://digitransit.fi/en/developers/apis/4-realtime-api/vehicle-positions/\">HFP API</a>.<br/><code class=\"language-text\">null</code> if location type is <code class=\"language-text\">2</code>.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">responsible</code></td>\n<td>String</td>\n<td>ID of the organization responsible for the beacon.</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">modified_on</code></td>\n<td>Integer</td>\n<td>Timestamp (in milliseconds) when the beacon data was modified.</td>\n</tr>\n</tbody>\n</table>\n<p>Note that currently the response also contains fields <code class=\"language-text\">note</code>, <code class=\"language-text\">created_by</code>, <code class=\"language-text\">created_on</code> and <code class=\"language-text\">modified_by</code> that always have <code class=\"language-text\">null</code> value. These fields will be removed from the response later.</p>\n<h4 id=\"major-values\" style=\"position:relative;\"><a href=\"#major-values\" aria-label=\"major values permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Major values</h4>\n<p>Major value of a beacon depends on where it is installed. Note that all major values are not currently in use.</p>\n<p>List of major values:</p>\n<table>\n<thead>\n<tr>\n<th>Major</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">0001</code></td>\n<td>Stop</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">0002</code></td>\n<td>Tram</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">0003</code></td>\n<td>Metro</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">0004</code></td>\n<td>Train</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">0005</code></td>\n<td>Train station</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">0007</code></td>\n<td>Ferry</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">0010</code></td>\n<td>Bus</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">0011</code></td>\n<td>Bus</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">0012</code></td>\n<td>Bus</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">0013</code></td>\n<td>Bus</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">0014</code></td>\n<td>Bus</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">0015</code></td>\n<td>Bus</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">0020</code></td>\n<td>Test beacon</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"identifying-beacons\" style=\"position:relative;\"><a href=\"#identifying-beacons\" aria-label=\"identifying beacons permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Identifying beacons</h3>\n<p>Beacons are identified by combination of their <code class=\"language-text\">uuid</code>, <code class=\"language-text\">major</code> and <code class=\"language-text\">minor</code> properties.  </p>\n<p>Libraries such as <a href=\"https://developer.apple.com/documentation/corelocation/\">Core Location (iOS)</a> and <a href=\"https://altbeacon.github.io/android-beacon-library/\">Android Beacon Library</a> can be used to detect nearby beacons, which can then be matched to a corresponding beacon from the API with their <code class=\"language-text\">uuid</code>, <code class=\"language-text\">major</code> and <code class=\"language-text\">minor</code> values.</p>\n<h2 id=\"faq\" style=\"position:relative;\"><a href=\"#faq\" aria-label=\"faq permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>FAQ</h2>\n<h3 id=\"which-stops-have-beacons-installed\" style=\"position:relative;\"><a href=\"#which-stops-have-beacons-installed\" aria-label=\"which stops have beacons installed permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Which stops have beacons installed?</h3>\n<blockquote>\n<p>Currently beacons have been installed to most stops in Helsinki. There are no beacons installed to stops in other cities.</p>\n</blockquote>\n<h3 id=\"which-vehicles-have-beacons-installed\" style=\"position:relative;\"><a href=\"#which-vehicles-have-beacons-installed\" aria-label=\"which vehicles have beacons installed permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Which vehicles have beacons installed?</h3>\n<blockquote>\n<p>Currently beacons have been installed to most buses and commuter trains and all trams and metros. Beacons have also been installed to Suomenlinna ferries.</p>\n</blockquote>\n<h2 id=\"terms-of-use\" style=\"position:relative;\"><a href=\"#terms-of-use\" aria-label=\"terms of use permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Terms of use</h2>\n<p>Beacon data is licensed under <a href=\"https://creativecommons.org/licenses/by/4.0/\">Creative Commons BY 4.0</a>. When using the data, please add an attribution where you mention the licensee and the year when the data was fetched (e.g. © Helsinki Region Transport 2019).</p>","frontmatter":{"title":"Beacon API"},"excerpt":"HSL Beacon API can be used to fetch locations of Bluetooth beacons that have been installed to vehicles and stops in HSL area. The API is a simple REST interface that returns data in JSON format…"}},"pageContext":{"slug":"/beacon_api/","breadcrumbs":[]}}}
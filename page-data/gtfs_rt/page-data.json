{"componentChunkName":"component---src-templates-page-js","path":"/gtfs_rt/","result":{"data":{"markdownRemark":{"html":"<p>HSL provides <a href=\"https://developers.google.com/transit/gtfs-realtime\">GTFS-RT</a> feeds for service alerts, trip updates and vehicle positions that complement the static GTFS data.</p>\n<p>Note that if you are not using the static GTFS package, you most likely want to use <a href=\"https://digitransit.fi/en/developers/\">Digitransit APIs</a> which provide the same data in a more ready-to-use format.</p>\n<h2 id=\"endpoints\" style=\"position:relative;\"><a href=\"#endpoints\" aria-label=\"endpoints permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Endpoints</h2>\n<p>The API supports only GET requests to these endpoints. There is are no parameters for filtering data etc.</p>\n<table>\n<thead>\n<tr>\n<th>Data type</th>\n<th>Endpoint</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Service alerts</td>\n<td><code class=\"language-text\">https://realtime.hsl.fi/realtime/service-alerts/v2/hsl</code></td>\n</tr>\n<tr>\n<td>Trip updates</td>\n<td><code class=\"language-text\">https://realtime.hsl.fi/realtime/trip-updates/v2/hsl</code></td>\n</tr>\n<tr>\n<td>Vehicle positions</td>\n<td><code class=\"language-text\">https://realtime.hsl.fi/realtime/vehicle-positions/v2/hsl</code></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"update-intervals\" style=\"position:relative;\"><a href=\"#update-intervals\" aria-label=\"update intervals permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Update intervals</h3>\n<p>GTFS-RT feeds are updated with the following intervals:</p>\n<table>\n<thead>\n<tr>\n<th>Data type</th>\n<th>Update interval</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Service alerts</td>\n<td>5 minutes and when new alerts are published</td>\n</tr>\n<tr>\n<td>Trip updates</td>\n<td>15 seconds</td>\n</tr>\n<tr>\n<td>Vehicle positions</td>\n<td>1 second</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"data-format\" style=\"position:relative;\"><a href=\"#data-format\" aria-label=\"data format permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data format</h2>\n<p>The feeds are using version 2.0 of GTFS-RT specification. See <a href=\"https://developers.google.com/transit/gtfs-realtime/reference\">Google's documentation</a> for more details about GTFS-RT format.</p>\n<p>The feeds should conform to the GTFS-RT specification, but there are some HSL-specific implementation details that could be useful to know.</p>\n<h3 id=\"trip-updates\" style=\"position:relative;\"><a href=\"#trip-updates\" aria-label=\"trip updates permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Trip updates</h3>\n<ul>\n<li>\n<p>Trip IDs are not available</p>\n<ul>\n<li>Combination of <code class=\"language-text\">route_id</code>, <code class=\"language-text\">start_date</code>, <code class=\"language-text\">start_time</code> and <code class=\"language-text\">direction_id</code> should be used to uniquely identify trips</li>\n<li>This is because trip IDs in the static GTFS feed are not stable and will change when the static feed is regenerated</li>\n</ul>\n</li>\n<li><code class=\"language-text\">uncertainty</code> is set to <code class=\"language-text\">0</code> for stops which the vehicle has passed</li>\n</ul>\n<h3 id=\"vehicle-positions\" style=\"position:relative;\"><a href=\"#vehicle-positions\" aria-label=\"vehicle positions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vehicle positions</h3>\n<ul>\n<li>Trip IDs are not available (explained in previous section)</li>\n<li><code class=\"language-text\">schedule_relationship</code> is either <code class=\"language-text\">SCHEDULED</code> (default) or <code class=\"language-text\">ADDED</code> (used for buses when there is more than one bus serving the same trip)</li>\n<li>\n<p><code class=\"language-text\">occupancy_status</code> is only available for vehicles that have passenger counting available</p>\n<ul>\n<li><code class=\"language-text\">NOT_ACCEPTING_PASSENGERS</code> is never used as a value</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">current_status</code> depends on whether the vehicle has <a href=\"https://digitransit.fi/en/developers/apis/4-realtime-api/vehicle-positions/#event-types\">HFP events</a> available</p>\n<ul>\n<li>If the vehicle has events: <code class=\"language-text\">IN_TRANSIT_TO</code> when vehicle is traveling to the next stop, <code class=\"language-text\">INCOMING_AT</code> when the vehicle has entered the stop radius (i.e. after <code class=\"language-text\">DUE</code> event), <code class=\"language-text\">STOPPED_AT</code> when the vehicle has stopped to the stop (i.e. after <code class=\"language-text\">ARS</code> event)</li>\n<li>If the vehicle does not have events: only <code class=\"language-text\">IN_TRANSIT_TO</code> and <code class=\"language-text\">STOPPED_AT</code> are used. <code class=\"language-text\">STOPPED_AT</code> is used when the corresponding HFP message contains stop ID, e.g. when the vehicle is close to the stop</li>\n</ul>\n</li>\n<li>\n<p>Vehicle <code class=\"language-text\">id</code> is in format <code class=\"language-text\">&lt;operator_id&gt;/&lt;vehicle_id&gt;</code></p>\n<ul>\n<li>Operators are listed in the HFP documentation</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"service-alerts\" style=\"position:relative;\"><a href=\"#service-alerts\" aria-label=\"service alerts permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Service alerts</h3>\n<ul>\n<li>\n<p>Each <code class=\"language-text\">informed_entity</code> contains a single <code class=\"language-text\">agency_id</code>, <code class=\"language-text\">route_id</code> or <code class=\"language-text\">stop_id</code></p>\n<ul>\n<li><code class=\"language-text\">agency_id</code> is always <code class=\"language-text\">HSL</code> and is present when the alert affects all HSL traffic</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"GTFS-RT feeds"},"excerpt":"HSL provides GTFS-RT feeds for service alerts, trip updates and vehicle positions that complement the static GTFS data. Note that if you are not using the static GTFS package, you most likely want toâ€¦"}},"pageContext":{"slug":"/gtfs_rt/","breadcrumbs":[]}}}